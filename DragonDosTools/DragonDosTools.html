<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
<title>DragonDos Tools</title>
<meta name="author" content="Rolf Michelsen" />
<meta name="copyright" content="&copy; Rolf Michelsen 2011-2012" />
<meta name="description" content="DragonDos Tools is a command line too for accessing and manipulating DragonDos filesystems hosted in virtual diskette images." />
<style type="text/css">

.example {
    border: 1pt dashed;
    padding: 5pt;
    background-color: Silver;
    font-family: Monospace;
}

dl.commands dt {
    padding-top: 15px;
}


dl.commands dt+dt  {
    padding-top: 0px;
}
</style>
</head>

<body>

<h1>DragonDos Tools 0.2</h1>
&copy; Copyright 2011-2012 by Rolf Michelsen.<br />
All rights reserved.



<h2>Description</h2>

<p>A command line tool for accessing and manipulating DragonDos filesystems hosted in virtual diskette images.
In particular, files can be copied between the virtual DragonDos filesystem and the host Windows filesystem.
The program currently supports the VDK and DSK virtual diskette formats.</p>

<p>The program requires the Microsoft .NET Framework version 4 to be installed.  The .NET Framework can be
installed through Microsoft Update or by downloading from the Microsoft downloads site.</p>


<h2>Using the tool</h2>

<p>Usage: <code>DragonDos <var>command</var> <var>filesystem</var> <var>arguments</var> <var>[options]</var></code></p>

<p>See below for a list of valid commands and their arguments and program options.  Command names are not
case sensitive.  All commands operate on a <var>filesystem</var>, a virtual disk image file containing a DragonDos
filesystem.  The program supports virtual disks in the VDK and DSK formats.</p>

<p>If the program is started without specifying a valid command the program usage information will be
displayed.</p>



<h2>Commands</h2>

<dl class="commands">

<dt>CHECK <var>filesystem</var></dt>
<dd>Check the consistency of the virtual filesystem in the file named <var>filesystem</var>.  The program will output a message
indicating whether the filesystem is healthy or not.  Writing to an unhealthy filesystem can damage the filesystem beyond repair.</dd>


<dt>CREATE <var>filesystem</var> [<var>tracks</var> [<var>sectors</var>]]</dt>
<dd>Create a new virtual filesystem in a file named <var>filesystem</var>. Optinonally, specify the number of tracks and sectors.
Only the standard DragonDos configurations are supported, 40 or 80 tracks and 18 or 36 sectors per track.  The
default configuration is 40 tracks and 18 sectors per track.</dd>


<dt>DELETE <var>filesystem</var> {<var>file</var>}</dt>
<dd>Delete one or more named files from the virtual filesystem in the file named <var>filesystem</var>.</dd>


<dt>DIR <var>filesystem</var></dt>
<dd>Output a directory listing for the virtual filesystem in the file named <var>filesystem</var>.</dd>


<dt>FREEMAP <var>filesystem</var></dt>
<dd>Output a visual "map" of the disk sectors showing which sectors have been allocated and marked as used by the
filesystem.</dd>


<dt>READ <var>filesystem</var> <var>file</var> <var>[localfile]</var></dt>
<dt>READ <var>filesystem</var> <var>file</var> <var>tapefile</var>.CAS <var>localfile</var></dt>

<dd>The first form of this command reads the file <var>file</var> from the DragonDos filesystem in <var>filesystem</var> and writes
the file payload data to <var>localfile</var> in the host Windows filesystem.  The resulting file contains only the file
payload data and no DragonDos file headers.  If <var>localfile</var> is omitted, the filename <var>file</var> will be used.</dd>

<dd>In the second form, the file is written to a virtual tape file named <var>tapefile</var>.CAS.  The file will be named
<var>localfile</var> in the virtual tape filesystem.  The file will retain its type in the tape filesystem.  For example, a
DragonDos BASIC program will be repsented as a Dragon BASIC program in the virtual tape filesystem.  If the file
<var>tapefile</var>.CAS exists, the new file will be appended to the virtual tape filesystem.</dd>


<dt>WRITE <var>filesystem</var> <var>file</var> <var>[localfile]</var></dt>
<dt>WRITE <var>filesystem</var> <var>file</var> <var>tapefile</var>.CAS <var>localfile</var></dt>

<dd>The first form of this command copies file <var>localfile</var> from the host Windows filesystem to a file named <var>file</var> in
the virtual DragonDos filesystem in <var>filesystem</var>.  The file will be stored as a DragonDos data file.</dd>

<dd>The second form copies the file <var>localfile</var> from a virtual Dragon tape filesystem in <var>tapefile</var>.CAS and writes
the file to the virtual DragonDos filesystem in <var>filesystem</var> using the name <var>file</var>.  The file will retain its type
during this operation.  For example, a Dragon BASIC program will be stored as a DragonDos BASIC program.</dd>

</dl>


<h2>Options</h2>

<dl class="options">

<dt>-d</dt>
<dd>Enable debug output.</dd>

<dt>-v</dt>
<dd>Verbose operation.</dd>

</dl>



<h2>Examples</h2>

<div class="example"><code>DragonDos dir disk.vdk</code></div>

<p>List all files in the filesystem in the virtual VDK disk named <var>disk.vdk</var>.</p>


<div class="example"><code>DragonDos read disk.vdk foo.dat bar.dat</code></div>

<p>Copy the file <var>foo.dat</var> from the filesystem in the virtual VDK disk named <var>disk.vdk</var>.  Store the file payload
in the local filesystem using the file name <var>bar.dat</var>.</p>


<div class="example"><code>DragonDos read disk.vdk foo.bas tape.cas FOO</code></div>

<p>Copy the file <var>foo.bas</var> from the filesystem in the virtual VDK disk named <var>disk.vdk</var>.  Store the copy in a virtual cassette 
file names <var>tape.cas</var>.  Use the filename <var>FOO.BAS</var> in the virtual cassette filesystem.  If the DragonDos file is a BASIC or
machine codde program, it will be stored in the cassette filesystem as the corresponding file type.</p>



<h2>License</h2>

<p>This program is made available under the BSD open source license.  See the file License.txt for details.</p>



<h2>More information</h2>

<p>See the <a href="http://www.rolfmichelsen.com/dragontools/">Dragon Tools</a> website for more information, including how to
contact the author.</p>

</body>

</html>